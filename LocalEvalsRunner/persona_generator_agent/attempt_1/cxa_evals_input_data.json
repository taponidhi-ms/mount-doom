{
  "conversations": [
    {
      "Id": "conv_812ee97301a6924500Zuwjo8mHlXuZWAM8BkbkLZGaN4hflkAG",
      "scenario_name": "persona_distribution_generation",
      "conversation": [
        {
          "role": "system",
          "content": "You are a parser that extracts structured simulation parameters from the user's input.\nYour task is to output a single JSON object with no explanations or extra text.\n\nGENERAL RULES:\n1. Always return ONLY valid JSON. No markdown, no code formatting, no commentary, and no newline characters.\n2. Include the field: \"IsTranscriptBasedSimulation\": true/false\n3. If the input mentions transcript‑based simulation in any form:\n      → Return:\n         {\"ConvCount\":0,\"intents\":[],\"Sentiments\":[],\"Proportions\":[],\"IsTranscriptBasedSimulation\":true,\"CallerPhoneNumber\":\"\",\"RecipientPhoneNumber\":\"\"}\n      → Ignore all other rules.\n4. Otherwise (\"simulation\", \"calls\", \"intents\", etc.):\n      → Parse all required fields as described below.\n      → Set \"IsTranscriptBasedSimulation\": false\n\nDATA EXTRACTION RULES:\n5. Extract caller phone number if present, else return \"\".\n6. Extract recipient phone number if present, else return \"\".\n\nINTENTS:\n7. Identify all intents mentioned in the input (e.g., billing inquiry, product return, etc.).\n8. For each intent:\n      - Assign the given percentage if provided.\n      - If no percentage is provided, assign a random percentage.\n      - Extract subject if given; otherwise generate a random subject string.\n\nSENTIMENTS:\n9. Identify all sentiment labels mentioned (angry, frustrated, unhappy, etc.).\n10. Extract given percentages if present; otherwise assign random percentage values.\n\nCONVERSATION COUNT:\n11. If input specifies a number of conversations → use it.\n12. If not specified → generate a random integer >0 and <10.\n\nPROPORTION DISTRIBUTION:\n13. Use the Largest Remainder Method:\n      a. Multiply each intent's percentage by ConvCount/100 to get raw counts.\n      b. Floor these values to obtain initial integer counts.\n      c. Distribute remaining conversations to entries with largest decimal remainders.\n\nOUTPUT FORMAT:\n14. Final JSON must contain:\n      {\n        \"ConvCount\": <integer>,\n        \"intents\": [{\"intent\": \"<string>\", \"percentage\": <number>, \"subject\": \"<string>\"}],\n        \"Sentiments\": [{\"sentiment\": \"<string>\", \"percentage\": <number>}],\n        \"Proportions\": [{\"intent\": \"<string>\", \"count\": <integer>}],\n        \"IsTranscriptBasedSimulation\": <boolean>,\n        \"CallerPhoneNumber\": \"<string>\",\n        \"RecipientPhoneNumber\": \"<string>\"\n      }\n\nSAMPLE PROMPTS (for grounding only; do NOT repeat these; always follow the rules above):\nExample A (percentages provided):\nUser input: \"Generate 10 calls: 60% billing inquiry about late fee reversal, 40% cancellation about plan downgrade. Sentiments: 70% frustrated, 30% neutral. Caller +1-206-555-0100 to recipient +1-425-555-0199.\"\nExpected output shape (single-line JSON): {\"ConvCount\":10,\"intents\":[{\"intent\":\"Billing Inquiry\",\"percentage\":60,\"subject\":\"Late fee reversal\"},{\"intent\":\"Cancellation\",\"percentage\":40,\"subject\":\"Plan downgrade\"}],\"Sentiments\":[{\"sentiment\":\"Frustrated\",\"percentage\":70},{\"sentiment\":\"Neutral\",\"percentage\":30}],\"Proportions\":[{\"intent\":\"Billing Inquiry\",\"count\":6},{\"intent\":\"Cancellation\",\"count\":4}],\"IsTranscriptBasedSimulation\":false,\"CallerPhoneNumber\":\"+1-206-555-0100\",\"RecipientPhoneNumber\":\"+1-425-555-0199\"}\n\nExample B (missing percentages; infer/randomize, then compute proportions):\nUser input: \"Simulate a handful of calls for password reset and delivery delay. Customer sentiment: angry and confused.\"\nExpected output shape (single-line JSON; percentages and subjects may be generated): {\"ConvCount\":<integer>,\"intents\":[{\"intent\":\"Password Reset\",\"percentage\":<number>,\"subject\":\"<string>\"},{\"intent\":\"Delivery Delay\",\"percentage\":<number>,\"subject\":\"<string>\"}],\"Sentiments\":[{\"sentiment\":\"Angry\",\"percentage\":<number>},{\"sentiment\":\"Confused\",\"percentage\":<number>}],\"Proportions\":[{\"intent\":\"Password Reset\",\"count\":<integer>},{\"intent\":\"Delivery Delay\",\"count\":<integer>}],\"IsTranscriptBasedSimulation\":false,\"CallerPhoneNumber\":\"\",\"RecipientPhoneNumber\":\"\"}\n\nExample C (transcript-based simulation mentioned):\nUser input: \"Use transcript-based simulation from past calls; ignore intent distribution.\"\nRequired output: {\"ConvCount\":0,\"intents\":[],\"Sentiments\":[],\"Proportions\":[],\"IsTranscriptBasedSimulation\":true,\"CallerPhoneNumber\":\"\",\"RecipientPhoneNumber\":\"\"}\n"
        },
        {
          "role": "user",
          "content": "Generate a distribution of 100 calls for a telecom company where 60% are billing inquiries (mostly negative sentiment), 30% are technical support (mixed sentiment), and 10% are new service requests (positive sentiment)."
        },
        {
          "role": "assistant",
          "content": "{\"ConvCount\":100,\"intents\":[{\"intent\":\"Billing Inquiry\",\"percentage\":60,\"subject\":\"Recent charges\"},{\"intent\":\"Technical Support\",\"percentage\":30,\"subject\":\"Connectivity issues\"},{\"intent\":\"New Service Request\",\"percentage\":10,\"subject\":\"New mobile plan\"}],\"Sentiments\":[{\"sentiment\":\"Negative\",\"percentage\":60},{\"sentiment\":\"Mixed\",\"percentage\":30},{\"sentiment\":\"Positive\",\"percentage\":10}],\"Proportions\":[{\"intent\":\"Billing Inquiry\",\"count\":60},{\"intent\":\"Technical Support\",\"count\":30},{\"intent\":\"New Service Request\",\"count\":10}],\"IsTranscriptBasedSimulation\":false,\"CallerPhoneNumber\":\"\",\"RecipientPhoneNumber\":\"\"}"
        }
      ]
    }
  ]
}