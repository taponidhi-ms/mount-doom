{
    "team_name": "Omnichannel",
    "agent_name": "SimulationAgent",
    "source": {
        "source_folder_path": "input\\all_c2_conversations.json",
        "source_file_type": "json",
        "variable_columns": [
            "instructions",
            "prompt"
        ]
    },
    "eval_config": {
        "options": [
            "enable_logging",
            "dev"
        ],
        "turn_mode": "single_turn",
        "metric": "custom",
        "lower_bound_score": 1,
        "upper_bound_score": 10,
        "score_threshold": 7,
        "custom_rules": [
            {
                "scenario_name": "C2MessageGeneratorAgent",
                "rules": [
                    {
                        "rule_name": "persona_consistency",
                        "rule_category": "Accuracy",
                        "rule_description": "The generated message must maintain the customer persona without acting as a support agent. The message should reflect the assigned intent and subject while sounding like a real customer.",
                        "scoring_hint": "**BE LENIENT - When in doubt, PASS.** ONLY FAIL if the message contains ACTUAL support agent phrases. ACCEPTABLE customer language (DO NOT PENALIZE): 'I'll be waiting', 'I'll be watching', 'I expect changes', 'I need a callback', 'please make sure', 'what action you'll take', providing phone number when asked, stating availability, expressing skepticism, repeating concerns, using 'please' politely, threatening to leave/cancel. UNACCEPTABLE (ONLY these should fail): 'I understand your concern' (empathy phrase), 'Let me help you' (offering assistance), 'I apologize on behalf of' (company apology), providing troubleshooting steps, offering solutions to the agent. **KEY POINT**: Real customers say 'I'll be waiting', 'I need', 'I expect', 'please' - these are NORMAL, not agent-like. Only fail for ACTUAL support phrases."
                    },
                    {
                        "rule_name": "goal_oriented_progression",
                        "rule_category": "Usefulness",
                        "rule_description": "The generated message should demonstrate realistic customer behavior working towards resolution. This includes expressing frustration, applying pressure, or acknowledging next steps.",
                        "scoring_hint": "**BE LENIENT - When in doubt, PASS.** Realistic customer progression includes: repeating the same concern multiple times, expressing skepticism about promises, threatening to cancel/leave (applying pressure), saying 'I'll be waiting/watching', asking what comes next, providing requested information (phone, email), accepting or rejecting offered solutions. Remember: customers DO repeat themselves, express doubt, and apply pressure - this IS goal-oriented behavior (ensuring they're taken seriously). NOT all messages need to 'advance' the conversation - repetition and pressure ARE valid tactics."
                    }
                ]
            }
        ]
    },
    "llm_config": {
        "adapters": {
            "capi": {
                "enabled": true,
                "type": "capi",
                "model": "gpt-41-mini-2025-04-14",
                "prompt_parameters": {
                    "temperature": 0,
                    "top_p": 1,
                    "max_completion_tokens": 2000
                },
                "authorization": {
                    "endpoint": "https://capi-resourceproxy.wus-il002.gateway.test.island.powerapps.com/v0/resourceproxy/envid.360f9d1b-9200-f011-9981-000d3a32ddb4/azureopenai/llm/gpt-41-mini-2025-04-14/chatcompletions",
                    "client_id": "079f5a03-090f-4720-90b9-e03942091e6e",
                    "tenant_id": "f8cdef31-a31e-4b4a-93e4-5f571e91255a",
                    "resource_uri": "api://4309f23c-178a-4fc7-a36e-68d8fee6ca7b",
                    "key_vault_name": "crmanalyticstip",
                    "certificate_secret_name": "dynamics-cca-data-analytics-test",
                    "headers": {
                        "x-ms-source": "{\"consumptionSource\":\"Api\",\"partnerSource\":\"D365Sales.Copilot.CXAEvals\"}",
                        "x-ms-client-principal-id": "b1ee8c0b-c63a-45f8-b198-90ed3dd5b87e",
                        "x-ms-client-tenant-id": "04f02989-9a26-4c15-bf84-5ee3f23b1301"
                    },
                    "token_cache_seconds": 300
                },
                "timeout_seconds": 60,
                "retries": 2
            }
        }
    },
    "sink": {
        "type": "LocalFileWriter",
        "output_folder_path": "output"
    },
    "reporting": {
        "enabled": true,
        "authorization": {
            "client_id": "079f5a03-090f-4720-90b9-e03942091e6e",
            "tenant_id": "72f988bf-86f1-41af-91ab-2d7cd011db47",
            "resource_uri": "api://evaluation-results-api",
            "key_vault_name": "crmanalyticstip",
            "certificate_secret_name": "dynamics-cca-data-analytics-test",
            "token_cache_seconds": 3600
        }
    }
}